"use strict";var g=(o,l,e)=>new Promise((a,t)=>{var i=d=>{try{n(e.next(d))}catch(r){t(r)}},f=d=>{try{n(e.throw(d))}catch(r){t(r)}},n=d=>d.done?a(d.value):Promise.resolve(d.value).then(i,f);n((e=e.apply(o,l)).next())});import{MapRenderer as h,Jet as u,Jet2 as m}from"./mapData.js";import c from"./externalServices.js";let s=new h("map",-114.742,44.0682,5),S=new u("N1234567",-114.742,44.0682,!1);s.addJetNew(S),s.addJet("N1234567",-116.742,49.0682);function p(){let o=[];localStorage.getItem("flightsList")!==null&&(o=JSON.parse(localStorage.getItem("flightsList")),o.forEach(l=>g(this,null,function*(){let e=yield c(l),a=new m(e,!1);s.addJetNew(a);let t=document.createElement("li");t.appendChild(document.createTextNode("Callsign: "+a.callsign+" Mode S Code: "+a.modeSCode)),document.querySelector("#user-flights-list").appendChild(t)})))}document.getElementById("searchForm").addEventListener("submit",o=>g(this,null,function*(){o.preventDefault();let l=[];localStorage.getItem("flightsList")!==null&&(l=JSON.parse(localStorage.getItem("flightsList")));let e=document.getElementById("modeSCode").value,a=yield c(e),t=new m(a,!1);s.addJetNew(t);let i=document.createElement("li");i.appendChild(document.createTextNode("Callsign: "+t.callsign+" Mode S Code: "+t.modeSCode)),document.querySelector("#user-flights-list").appendChild(i),l.push(e),localStorage.setItem("flightsList",JSON.stringify(l))})),p();
